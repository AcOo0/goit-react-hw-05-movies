{"version":3,"file":"static/js/710.601b74de.chunk.js","mappings":"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","sources":["api/movies.js","webpack://react-homework-template/./src/pages/MoviesCastPage/movies-cast-page.module.css?4e31","pages/MoviesCastPage/MoviesCastPage.jsx"],"sourcesContent":["import axios from \"axios\";\n\nconst ACCESS_TOKEN = \"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI4MzIzYWFhMzc3MWU3N2E0NjlkNGEzYThkMTQxZGZmZSIsInN1YiI6IjY1YjRkMjFkNjBjNTFkMDE4NGQwYmIyYiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.XISfEw51jqEFhQV2E2EtFhEmH58uU8lMg5HWvJk3DDE\";\n\nconst instance = axios.create({\n    baseURL: \"https://api.themoviedb.org/3\",\n    headers: {\n        \"Authorization\": `Bearer ${ACCESS_TOKEN}`\n    }\n})\n\n// const API_KEY = \"8323aaa3771e77a469d4a3a8d141dffe\";\n\nexport const getAllMovies = () => {\n    return instance.get(\"/trending/movie/day\")\n}\n\nexport const searchMovies = (query, page = 1) => {\n    return instance.get(\"/search/movie\", {\n        params: {\n            // api_key: API_KEY,\n            query,\n            page,\n        }\n    })\n}\n\nexport const getMovieDetail = id => {\n    return instance.get(`/movie/${id}`\n    //  {\n    //     params: {\n    //         api_key: API_KEY,\n    //     }\n    //     }\n    )\n}\n\nexport const getMovieCredits = id => {\n    return instance.get(`/movie/${id}/credits`\n        // {\n        // params: {\n        //     api_key: API_KEY,\n        // }\n        // }\n    )\n}\n\nexport const getMovieReview = id => {\n    return instance.get(`/movie/${id}/reviews`\n        // {\n        // params: {\n        //     api_key: API_KEY,\n        // }\n        // }\n    )\n}","// extracted by mini-css-extract-plugin\nexport default {\"li\":\"movies-cast-page_li__VG61t\",\"castWrap\":\"movies-cast-page_castWrap__NnDVz\"};","import { useParams } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\n\nimport { getMovieCredits } from \"api/movies\";\nimport { Loader } from \"components/Loader/Loader\";\n\nimport styles from \"./movies-cast-page.module.css\"\n\nconst MoviesCastPage = () => {\n    const IMAGE_BASE_URL = 'https://image.tmdb.org/t/p/w200';\n\n    const [cast, setCast] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n\n    const { id } = useParams();\n\n    useEffect(() => {\n        if (!id) {\n            return;\n        }\n        const fetchCast = async () => {\n            try {\n                setLoading(true);\n                const { data } = await getMovieCredits(id);                \n                setCast(data.cast ? data.cast : []);\n            }\n            catch (error) {\n                setError(error.message)\n            }\n            finally {\n                setLoading(false)\n            }\n        }\n        \n        fetchCast();\n    }, [id]);\n\n    if (cast.length === 0) {\n        return <p>Sorry we don't have any cast for this movie!</p>;\n    };\n\n    const elements = cast.map(({ id, profile_path, name, character }) => (\n        <li className={styles.li} key={id}>\n            {profile_path && (\n                <img src={`${IMAGE_BASE_URL}${profile_path}`} alt={name} loading=\"lazy\" />\n            )}\n            <p>{name}</p>\n            <p>{character}</p>\n        </li>\n    ));\n\n    const isCast = Boolean(cast.length);\n\n    return (\n        <>\n            {error && <p>{error}</p>}\n            {loading && <Loader />}\n            {isCast && <div className={styles.castWrap}>\n                {elements}\n            </div>\n            }\n        </>        \n    )\n}\n\nexport default MoviesCastPage;"],"names":["instance","axios","baseURL","headers","concat","getAllMovies","get","searchMovies","query","page","arguments","length","undefined","params","getMovieDetail","id","getMovieCredits","getMovieReview","_useState","useState","_useState2","_slicedToArray","cast","setCast","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","useParams","useEffect","fetchCast","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$getMovieCredit","data","_context","prev","next","sent","t0","message","finish","stop","apply","_jsx","children","elements","map","_ref2","profile_path","name","character","_jsxs","className","styles","src","alt","isCast","Boolean","_Fragment","Loader"],"sourceRoot":""}