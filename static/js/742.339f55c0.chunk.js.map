{"version":3,"file":"static/js/742.339f55c0.chunk.js","mappings":"2QAEMA,E,OAAWC,EAAAA,OAAa,CAC1BC,QAAS,iCAGPC,EAAU,mCAEHC,EAAe,WACxB,OAAOJ,EAASK,IAAI,sBAAuB,CACvCC,OAAQ,CACJC,QAASJ,IAGrB,EAEaK,EAAe,SAACC,GAAqB,IAAdC,EAAIC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,EACvC,OAAOX,EAASK,IAAI,gBAAiB,CACjCC,OAAQ,CACJC,QAASJ,EACTM,MAAAA,EACAC,KAAAA,IAGZ,EAEaI,EAAiB,SAAAC,GAC1B,OAAOf,EAASK,IAAI,UAADW,OAAWD,GAAM,CAChCT,OAAQ,CACJC,QAASJ,IAGrB,EAEac,EAAkB,SAAAF,GAC3B,OAAOf,EAASK,IAAI,UAADW,OAAWD,EAAE,YAAY,CACxCT,OAAQ,CACJC,QAASJ,IAGrB,EAEae,EAAiB,SAAAH,GAC1B,OAAOf,EAASK,IAAI,UAADW,OAAWD,EAAE,YAAY,CACxCT,OAAQ,CACJC,QAASJ,IAGrB,C,+IC/CA,EAAqB,gCAArB,EAAmE,yC,SC4DnE,EArDwB,WACpB,IAAAgB,GAA4BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAjCI,EAAMF,EAAA,GAAEG,EAASH,EAAA,GACxBI,GAA8BL,EAAAA,EAAAA,WAAS,GAAMM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAtCE,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GAC1BG,GAA0BT,EAAAA,EAAAA,UAAS,MAAKU,GAAAR,EAAAA,EAAAA,GAAAO,EAAA,GAAjCE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GAEdf,GAAOkB,EAAAA,EAAAA,MAAPlB,GAuBR,IArBAmB,EAAAA,EAAAA,YAAU,WACN,GAAKnB,EAAL,CAGA,IAAMoB,EAAW,eAAAC,GAAAC,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAA,OAAAJ,IAAAA,MAAA,SAAAK,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEK,OAFLF,EAAAC,KAAA,EAEZhB,GAAW,GAAMe,EAAAE,KAAA,GACM3B,EAAAA,EAAAA,IAAeH,GAAI,KAAD,EAAA0B,EAAAE,EAAAG,KAAjCJ,EAAID,EAAJC,KACRlB,EAAmC,KAAb,QAAZgB,EAAAE,EAAKK,eAAO,IAAAP,OAAA,EAAZA,EAAc5B,QAAe8B,EAAKK,QAAU,IAAIJ,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAK,GAAAL,EAAA,SAG1DX,EAASW,EAAAK,GAAMC,SAAQ,QAGN,OAHMN,EAAAC,KAAA,GAGvBhB,GAAW,GAAMe,EAAAO,OAAA,6BAAAP,EAAAQ,OAAA,GAAAZ,EAAA,wBAExB,kBAZgB,OAAAH,EAAAgB,MAAA,KAAAzC,UAAA,KAcjBwB,GAfA,CAgBJ,GAAG,CAACpB,IAEkB,IAAlBQ,EAAOX,OACK,OAAOyC,EAAAA,EAAAA,KAAA,KAAAC,SAAG,oDAG1B,IAAMC,EAAWhC,EAAOiC,KAAI,SAAAC,GAAA,IAAG1C,EAAE0C,EAAF1C,GAAI2C,EAAMD,EAANC,OAAQC,EAAOF,EAAPE,QAAO,OAC9CC,EAAAA,EAAAA,MAAA,MAAIC,UAAWC,EAAUR,SAAA,EACrBM,EAAAA,EAAAA,MAAA,MAAAN,SAAA,CAAI,WAASI,MACbL,EAAAA,EAAAA,KAAA,KAAAC,SAAIK,MAFuB5C,EAG1B,IAGHgD,EAAYC,QAAQzC,EAAOX,QAEjC,OACIgD,EAAAA,EAAAA,MAAAK,EAAAA,SAAA,CAAAX,SAAA,CACKvB,IAASsB,EAAAA,EAAAA,KAAA,KAAAC,SAAIvB,IACbJ,IAAW0B,EAAAA,EAAAA,KAACa,EAAAA,EAAM,IAClBH,IAAaV,EAAAA,EAAAA,KAAA,OAAKQ,UAAWC,EAAmBR,SAC5CC,MAKjB,C","sources":["api/movies.js","webpack://react-homework-template/./src/pages/MoviesReviewsPage/movies-reviews-page.module.css?92a4","pages/MoviesReviewsPage/MoviesReviewsPage.jsx"],"sourcesContent":["import axios from \"axios\";\n\nconst instance = axios.create({\n    baseURL: \"https://api.themoviedb.org/3\"\n})\n\nconst API_KEY = \"8323aaa3771e77a469d4a3a8d141dffe\";\n\nexport const getAllMovies = () => {\n    return instance.get(\"/trending/movie/day\", {\n        params: {\n            api_key: API_KEY,\n        }\n    })\n}\n\nexport const searchMovies = (query, page = 1) => {\n    return instance.get(\"/search/movie\", {\n        params: {\n            api_key: API_KEY,\n            query,\n            page,\n        }\n    })\n}\n\nexport const getMovieDetail = id => {\n    return instance.get(`/movie/${id}`, {\n        params: {\n            api_key: API_KEY,\n        }\n    })\n}\n\nexport const getMovieCredits = id => {\n    return instance.get(`/movie/${id}/credits`, {\n        params: {\n            api_key: API_KEY,\n        }\n    })\n}\n\nexport const getMovieReview = id => {\n    return instance.get(`/movie/${id}/reviews`, {\n        params: {\n            api_key: API_KEY,\n        }\n    })\n}","// extracted by mini-css-extract-plugin\nexport default {\"li\":\"movies-reviews-page_li__o4x4M\",\"reviewsWrap\":\"movies-reviews-page_reviewsWrap__3dbzD\"};","import { useParams } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\n\nimport { getMovieReview } from \"api/movies\";\nimport { Loader } from \"components/Loader/Loader\";\n\nimport styles from \"./movies-reviews-page.module.css\"\n\nconst MovieReviewPage = () => {\n    const [review, setReview] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n\n    const { id } = useParams();\n\n    useEffect(() => {\n        if (!id) {\n            return;\n        }\n        const fetchReview = async () => {\n            try {\n                setLoading(true);\n                const { data } = await getMovieReview(id);\n                setReview(data.results?.length !== 0 ? data.results : []);\n            }\n            catch (error) {\n                setError(error.message)\n            }\n            finally {\n                setLoading(false)\n            }\n        }\n\n        fetchReview();\n    }, [id]);\n\n    if (review.length === 0) {\n                    return <p>Sorry we don't have any reviews for this movie!</p>;\n    }\n    \n    const elements = review.map(({ id, author, content }) => (\n        <li className={styles.li} key={id}>\n            <h3>Author: {author}</h3>\n            <p>{content}</p>\n        </li>\n    ));\n\n    const isReviews = Boolean(review.length);\n\n    return (\n        <>\n            {error && <p>{error}</p>}\n            {loading && <Loader />}\n            {isReviews && <div className={styles.reviewsWrap}>\n                {elements}\n            </div>\n            }\n        </>        \n    )\n}\n\nexport default MovieReviewPage;"],"names":["instance","axios","baseURL","API_KEY","getAllMovies","get","params","api_key","searchMovies","query","page","arguments","length","undefined","getMovieDetail","id","concat","getMovieCredits","getMovieReview","_useState","useState","_useState2","_slicedToArray","review","setReview","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","useParams","useEffect","fetchReview","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","_data$results","_yield$getMovieReview","data","_context","prev","next","sent","results","t0","message","finish","stop","apply","_jsx","children","elements","map","_ref2","author","content","_jsxs","className","styles","isReviews","Boolean","_Fragment","Loader"],"sourceRoot":""}