{"version":3,"file":"static/js/886.56fa11ac.chunk.js","mappings":"2QAIMA,E,OAAWC,EAAAA,OAAa,CAC1BC,QAAS,+BACTC,QAAS,CACL,cAAgB,UAADC,OALF,0NAWRC,EAAe,WACxB,OAAOL,EAASM,IAAI,sBACxB,EAEaC,EAAe,SAACC,GAAqB,IAAdC,EAAIC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,EACvC,OAAOV,EAASM,IAAI,gBAAiB,CACjCO,OAAQ,CAEJL,MAAAA,EACAC,KAAAA,IAGZ,EAEaK,EAAiB,SAAAC,GAC1B,OAAOf,EAASM,IAAI,UAADF,OAAWW,GAOlC,EAEaC,EAAkB,SAAAD,GAC3B,OAAOf,EAASM,IAAI,UAADF,OAAWW,EAAE,YAOpC,EAEaE,EAAiB,SAAAF,GAC1B,OAAOf,EAASM,IAAI,UAADF,OAAWW,EAAE,YAOpC,C,qICtDA,EAAyB,uB,SCKzB,EAJe,SAAHG,GAA8C,IAAzCC,EAAOD,EAAPC,QAAOC,EAAAF,EAAEG,KAAAA,OAAI,IAAAD,EAAG,SAAQA,EAAEE,EAAQJ,EAARI,SACvC,OAAOC,EAAAA,EAAAA,KAAA,UAAQJ,QAASA,EAASE,KAAMA,EAAMG,UAAWC,EAAcH,SAAEA,GAC5E,E,2BCHA,EAA4B,6BAA5B,EAAsE,8BAAtE,EAAuH,oCAAvH,EAAmL,yCAAnL,EAA8O,mCCkD9O,EA/CkB,SAAHJ,GAAsB,IAAhBQ,EAAQR,EAARQ,SACjBC,GAA0BC,EAAAA,EAAAA,UAAS,CAC/BC,OAAQ,KACVC,GAAAC,EAAAA,EAAAA,GAAAJ,EAAA,GAFKK,EAAKF,EAAA,GAAEG,EAAQH,EAAA,GAwBtB,OACQP,EAAAA,EAAAA,KAAA,UAAQC,UAAWC,EAAiBH,UAChCY,EAAAA,EAAAA,MAAA,QAAMR,SAdG,SAACS,GAClBA,EAAEC,iBACFV,GAAQW,EAAAA,EAAAA,GAAC,CAAC,EAAIL,GAElB,EAU0CR,UAAWC,EAAkBH,SAAA,EACvDC,EAAAA,EAAAA,KAAA,UAAQF,KAAK,SAASG,UAAWC,EAAwBH,UACrDC,EAAAA,EAAAA,KAAA,QAAMC,UAAWC,EAA6BH,SAAC,cAEnDC,EAAAA,EAAAA,KAAA,SACIe,MAAON,EAAMH,OACbU,SA5BC,SAAHC,GAAoB,IAAdC,EAAMD,EAANC,OACZC,EAAgBD,EAAhBC,KAAMJ,EAAUG,EAAVH,MACdL,GAAQI,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EACHL,GAAK,IAAAW,EAAAA,EAAAA,GAAA,GACPD,EAAOJ,IAEhB,EAuBoBd,UAAWC,EACXmB,UAAQ,EACRvB,KAAK,OACLqB,KAAK,SACLG,aAAa,MACbC,WAAS,QAMjC,E,SChDA,EAAmC,6CCcnC,EAXyB,SAAH5B,GAAmB,IAAb6B,EAAK7B,EAAL6B,MAClBC,GAAWC,EAAAA,EAAAA,MAOjB,OANiBF,EAAMG,KAAI,SAAAV,GAAA,IACnBzB,EAAEyB,EAAFzB,GACAoC,EAAKX,EAALW,MAAK,OACP5B,EAAAA,EAAAA,KAAC6B,EAAAA,GAAI,CAACC,GAAE,WAAAjD,OAAaW,GAAMiB,MAAO,CAACsB,KAAMN,GAAoBxB,UAAWC,EAAwBH,SAC7F6B,GADsDpC,EAEpD,GAEf,E,SCZA,EAA+B,oCAA/B,EAAqF,uCC+ErF,EAnEqB,WACjB,IAAAY,GAA8BC,EAAAA,EAAAA,UAAS,IAAGE,GAAAC,EAAAA,EAAAA,GAAAJ,EAAA,GAAnC4B,EAAOzB,EAAA,GAAE0B,EAAU1B,EAAA,GAC1B2B,GAA8B7B,EAAAA,EAAAA,WAAS,GAAM8B,GAAA3B,EAAAA,EAAAA,GAAA0B,EAAA,GAAtCE,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GAC1BG,GAA0BjC,EAAAA,EAAAA,UAAS,MAAKkC,GAAA/B,EAAAA,EAAAA,GAAA8B,EAAA,GAAjCE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GACtBG,GAAoCrC,EAAAA,EAAAA,UAAS,IAAGsC,GAAAnC,EAAAA,EAAAA,GAAAkC,EAAA,GAAzCE,EAAUD,EAAA,GAAEE,EAAaF,EAAA,GAEhCG,GAAwCC,EAAAA,EAAAA,MAAiBC,GAAAxC,EAAAA,EAAAA,GAAAsC,EAAA,GAAlDG,EAAYD,EAAA,GAAEE,EAAeF,EAAA,GAE9B1C,EAAS2C,EAAalE,IAAI,UAC1BG,EAAO+D,EAAalE,IAAI,SAE9BoE,EAAAA,EAAAA,YAAU,WACN,IAAMC,EAAW,eAAAzD,GAAA0D,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,IAAAC,EAAAC,EAAA,OAAAH,IAAAA,MAAA,SAAAI,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEK,OAFLF,EAAAC,KAAA,EAEZtB,GAAW,GAAMqB,EAAAE,KAAA,GAEM5E,EAAAA,EAAAA,IAAasB,EAAQpB,GAAM,KAAD,EAArC,GAAqCsE,EAAAE,EAAAG,KAErB,KAFpBJ,EAAID,EAAJC,MAECzB,QAAQ5C,OAAY,CAAAsE,EAAAE,KAAA,eAAAF,EAAAI,OAAA,SAClBC,MAAM,iPAAiD,OAGlE9B,GAAW,SAAA+B,GAAW,IAAAC,EAAA,OAAgB,QAAZA,EAAAR,EAAKzB,eAAO,IAAAiC,GAAZA,EAAc7E,OAAM,GAAAP,QAAAqF,EAAAA,EAAAA,GAAOF,IAAWE,EAAAA,EAAAA,GAAKT,EAAKzB,UAAWgC,CAAW,IAACN,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAS,GAAAT,EAAA,SAGjGjB,EAASiB,EAAAS,GAAMC,SAAS,QAGN,OAHMV,EAAAC,KAAA,GAGxBtB,GAAW,GAAOqB,EAAAW,OAAA,6BAAAX,EAAAY,OAAA,GAAAf,EAAA,yBAEzB,kBAlBgB,OAAA5D,EAAA4E,MAAA,KAAApF,UAAA,MAoBbmB,GAAWA,EAAOkE,gBAAkB5B,EAAW4B,eAA0B,IAATtF,IAChEkE,IACAP,EAAcvC,GAGtB,GAAG,CAACA,EAAQpB,EAAM0D,IAElB,IAUM6B,EAAWC,QAAQ1C,EAAQ5C,QAE7B,OACIuB,EAAAA,EAAAA,MAAAgE,EAAAA,SAAA,CAAA5E,SAAA,EACIC,EAAAA,EAAAA,KAAC4E,EAAS,CAACzE,SAdF,SAAHc,GAAoB,IAAdX,EAAMW,EAANX,OACpB,GAAIA,EAAOkE,gBAAkB5B,EAAW4B,cACpC,OAAOT,MAAM,sFAADlF,OAAsByB,EAAM,MAE5C4C,EAAgB,CAAE5C,OAAAA,EAAQpB,KAAM,IAChC+C,EAAW,GACf,IASaO,IAASxC,EAAAA,EAAAA,KAAA,KAAAD,SAAIyC,IACbJ,IAAWpC,EAAAA,EAAAA,KAAC6E,EAAAA,EAAM,IAClBJ,IAAezE,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAAoBH,UAC/BC,EAAAA,EAAAA,KAAC8E,EAAgB,CAACtD,MAAOQ,MAE5CyC,IAAYzE,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAuBH,UACpCC,EAAAA,EAAAA,KAAC+E,EAAM,CAACnF,QAbnB,WAAH,OAASsD,EAAgB,CAAE5C,OAAAA,EAAQpB,KAAM8F,OAAO9F,GAAQ,GAAK,EAapBY,KAAK,SAAQC,SAAC,kBAKzE,ECpEA,EARmB,WACf,OACIC,EAAAA,EAAAA,KAAA,OAAAD,UACIC,EAAAA,EAAAA,KAACiF,EAAY,KAGzB,C","sources":["api/movies.js","webpack://react-homework-template/./src/components/Button/button.module.css?6dda","components/Button/Button.jsx","webpack://react-homework-template/./src/components/MoviesSearch/Searchbar/searchbar.module.css?042d","components/MoviesSearch/Searchbar/Searchbar.jsx","components/MoviesSearch/MoviesSearchItem/movies-search-item.module.css","components/MoviesSearch/MoviesSearchItem/MoviesSearchItem.jsx","webpack://react-homework-template/./src/components/MoviesSearch/movies-search.module.css?498e","components/MoviesSearch/MoviesSearch.jsx","pages/MoviesPage/MoviesPage.jsx"],"sourcesContent":["import axios from \"axios\";\n\nconst ACCESS_TOKEN = \"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI4MzIzYWFhMzc3MWU3N2E0NjlkNGEzYThkMTQxZGZmZSIsInN1YiI6IjY1YjRkMjFkNjBjNTFkMDE4NGQwYmIyYiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.XISfEw51jqEFhQV2E2EtFhEmH58uU8lMg5HWvJk3DDE\";\n\nconst instance = axios.create({\n    baseURL: \"https://api.themoviedb.org/3\",\n    headers: {\n        \"Authorization\": `Bearer ${ACCESS_TOKEN}`\n    }\n})\n\n// const API_KEY = \"8323aaa3771e77a469d4a3a8d141dffe\";\n\nexport const getAllMovies = () => {\n    return instance.get(\"/trending/movie/day\")\n}\n\nexport const searchMovies = (query, page = 1) => {\n    return instance.get(\"/search/movie\", {\n        params: {\n            // api_key: API_KEY,\n            query,\n            page,\n        }\n    })\n}\n\nexport const getMovieDetail = id => {\n    return instance.get(`/movie/${id}`\n    //  {\n    //     params: {\n    //         api_key: API_KEY,\n    //     }\n    //     }\n    )\n}\n\nexport const getMovieCredits = id => {\n    return instance.get(`/movie/${id}/credits`\n        // {\n        // params: {\n        //     api_key: API_KEY,\n        // }\n        // }\n    )\n}\n\nexport const getMovieReview = id => {\n    return instance.get(`/movie/${id}/reviews`\n        // {\n        // params: {\n        //     api_key: API_KEY,\n        // }\n        // }\n    )\n}","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"button_button__rr3yo\"};","import styles from \"./button.module.css\"\n\nconst Button = ({onClick, type = \"submit\", children}) => {\n    return <button onClick={onClick} type={type} className={styles.button}>{children}</button>\n}\n\nexport default Button;","// extracted by mini-css-extract-plugin\nexport default {\"searchbar\":\"searchbar_searchbar__B5ETv\",\"searchForm\":\"searchbar_searchForm__SOAs6\",\"searchFormButton\":\"searchbar_searchFormButton__S4mBg\",\"searchFormButtonLabel\":\"searchbar_searchFormButtonLabel__oGiO3\",\"searchFormInput\":\"searchbar_searchFormInput__Oo-UX\"};","import { useState } from \"react\"\n\nimport styles from \"./searchbar.module.css\"\n\nconst Searchbar = ({ onSubmit }) => {\n    const [state, setState] = useState({\n        search: \"\",\n    });\n\n    const handleChange = ({ target }) => {\n        const { name, value } = target;\n        setState({\n            ...state,\n            [name]: value,\n        })\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        onSubmit({ ...state });\n        // reset();\n    };\n\n    // const reset = () => {\n    //     setState({ \n    //         search: \"\",\n    //     });\n    // };\n\n    return (\n            <header className={styles.searchbar}>\n                <form onSubmit={handleSubmit} className={styles.searchForm}>\n                    <button type=\"submit\" className={styles.searchFormButton}>\n                        <span className={styles.searchFormButtonLabel}>Search</span>\n                    </button>\n                    <input\n                        value={state.search}\n                        onChange={handleChange}\n                        className={styles.searchFormInput}\n                        required\n                        type=\"text\"\n                        name=\"search\"\n                        autoComplete=\"off\"\n                        autoFocus\n                    />\n                </form>\n            </header>\n        )\n\n}\n\nexport default Searchbar;","// extracted by mini-css-extract-plugin\nexport default {\"moviesSearchItem\":\"movies-search-item_moviesSearchItem__+sFBc\"};","import { Link, useLocation } from 'react-router-dom';\n\nimport styles from './movies-search-item.module.css'\n\nconst MoviesSearchItem = ({ items }) => {\n    const location = useLocation();\n    const elements = items.map(({\n            id,\n            title,\n    }) => <Link to={`/movies/${id}`} state={{from: location}} key={id} className={styles.moviesSearchItem}>\n            {title}\n        </Link>);\n    return elements;\n}\n\nexport default MoviesSearchItem;","// extracted by mini-css-extract-plugin\nexport default {\"moviesSearch\":\"movies-search_moviesSearch__LEHRY\",\"loadMoreWrapper\":\"movies-search_loadMoreWrapper__EOBDu\"};","import { useEffect, useState } from \"react\";\nimport { useSearchParams } from \"react-router-dom\";\n\nimport Button from \"components/Button/Button\";\nimport { Loader } from \"components/Loader/Loader\";\n\nimport Searchbar from \"./Searchbar/Searchbar\";\nimport MoviesSearchItem from \"./MoviesSearchItem/MoviesSearchItem\";\n\nimport { searchMovies } from \"api/movies\";\n\nimport styles from './movies-search.module.css'\n\nconst MoviesSearch = () => {\n    const [results, setResults] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n    const [prevSearch, setPrevSearch] = useState(\"\");\n\n    const [searchParams, setSearchParams] = useSearchParams();\n\n    const search = searchParams.get(\"search\");\n    const page = searchParams.get(\"page\");\n\n    useEffect(() => {\n        const fetchMovies = async () => {\n            try {\n                setLoading(true);\n\n                const { data } = await searchMovies(search, page);\n\n                if (data.results.length === 0) {\n                    return alert('Ох! Нажаль за Вашим запитом нічого не знайдено');\n                }\n\n                setResults(prevResults => data.results?.length ? [...prevResults, ...data.results] : prevResults)\n            }\n            catch (error) {\n                setError(error.message);\n            }\n            finally {\n                setLoading(false);\n            }\n        }\n\n        if (search && (search.toLowerCase() !== prevSearch.toLowerCase() || page !== 1)) {\n            fetchMovies();\n            setPrevSearch(search);\n        }\n        \n    }, [search, page, prevSearch]);\n\n    const handleSearch = ({ search }) => {\n        if (search.toLowerCase() === prevSearch.toLowerCase()) {\n            return alert(`Ви й так шукаєте \"${search}\"`);\n        }\n        setSearchParams({ search, page: 1 })\n        setResults([]);\n    };\n\n    const loadMore = () => setSearchParams({ search, page: Number(page) + 1 });\n\n    const isImages = Boolean(results.length);\n    \n        return (\n            <>\n                <Searchbar onSubmit={handleSearch} />\n                {error && <p>{error}</p>}\n                {loading && <Loader/>}\n                {isImages && (  <ul className={styles.moviesSearch}>\n                                    <MoviesSearchItem items={results} />\n                                </ul>)}\n                {isImages && <div className={styles.loadMoreWrapper}>\n                                <Button onClick={loadMore} type=\"button\">Load more</Button>\n                </div>}\n            </>\n            \n        )\n}\n\nexport default MoviesSearch;","import MoviesSearch from \"components/MoviesSearch/MoviesSearch\";\n\nconst MoviesPage = () => {\n    return (\n        <div>\n            <MoviesSearch/>\n        </div>\n    )\n}\n\nexport default MoviesPage;"],"names":["instance","axios","baseURL","headers","concat","getAllMovies","get","searchMovies","query","page","arguments","length","undefined","params","getMovieDetail","id","getMovieCredits","getMovieReview","_ref","onClick","_ref$type","type","children","_jsx","className","styles","onSubmit","_useState","useState","search","_useState2","_slicedToArray","state","setState","_jsxs","e","preventDefault","_objectSpread","value","onChange","_ref2","target","name","_defineProperty","required","autoComplete","autoFocus","items","location","useLocation","map","title","Link","to","from","results","setResults","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","_useState7","_useState8","prevSearch","setPrevSearch","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","useEffect","fetchMovies","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$searchMovies","data","_context","prev","next","sent","abrupt","alert","prevResults","_data$results","_toConsumableArray","t0","message","finish","stop","apply","toLowerCase","isImages","Boolean","_Fragment","Searchbar","Loader","MoviesSearchItem","Button","Number","MoviesSearch"],"sourceRoot":""}