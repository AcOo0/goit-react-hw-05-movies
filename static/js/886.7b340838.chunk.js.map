{"version":3,"file":"static/js/886.7b340838.chunk.js","mappings":"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","sources":["api/movies.js","webpack://react-homework-template/./src/components/Button/button.module.css?6dda","components/Button/Button.jsx","webpack://react-homework-template/./src/components/MoviesSearch/Searchbar/searchbar.module.css?042d","components/MoviesSearch/Searchbar/Searchbar.jsx","components/MoviesSearch/MoviesSearchItem/movies-search-item.module.css","components/MoviesSearch/MoviesSearchItem/MoviesSearchItem.jsx","webpack://react-homework-template/./src/components/MoviesSearch/movies-search.module.css?498e","components/MoviesSearch/MoviesSearch.jsx","pages/MoviesPage/MoviesPage.jsx"],"sourcesContent":["import axios from \"axios\";\n\nconst instance = axios.create({\n    baseURL: \"https://api.themoviedb.org/3\"\n})\n\nconst API_KEY = \"8323aaa3771e77a469d4a3a8d141dffe\";\n\nexport const getAllMovies = () => {\n    return instance.get(\"/trending/movie/day\", {\n        params: {\n            api_key: API_KEY,\n        }\n    })\n}\n\nexport const searchMovies = (query, page = 1) => {\n    return instance.get(\"/search/movie\", {\n        params: {\n            api_key: API_KEY,\n            query,\n            page,\n        }\n    })\n}\n\nexport const getMovieDetail = id => {\n    return instance.get(`/movie/${id}`, {\n        params: {\n            api_key: API_KEY,\n        }\n    })\n}\n\nexport const getMovieCredits = id => {\n    return instance.get(`/movie/${id}/credits`, {\n        params: {\n            api_key: API_KEY,\n        }\n    })\n}\n\nexport const getMovieReview = id => {\n    return instance.get(`/movie/${id}/reviews`, {\n        params: {\n            api_key: API_KEY,\n        }\n    })\n}","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"button_button__rr3yo\"};","import styles from \"./button.module.css\"\n\nconst Button = ({onClick, type = \"submit\", children}) => {\n    return <button onClick={onClick} type={type} className={styles.button}>{children}</button>\n}\n\nexport default Button;","// extracted by mini-css-extract-plugin\nexport default {\"searchbar\":\"searchbar_searchbar__B5ETv\",\"searchForm\":\"searchbar_searchForm__SOAs6\",\"searchFormButton\":\"searchbar_searchFormButton__S4mBg\",\"searchFormButtonLabel\":\"searchbar_searchFormButtonLabel__oGiO3\",\"searchFormInput\":\"searchbar_searchFormInput__Oo-UX\"};","import { useState } from \"react\"\n\nimport styles from \"./searchbar.module.css\"\n\nconst Searchbar = ({ onSubmit }) => {\n    const [state, setState] = useState({\n        search: \"\",\n    });\n\n    const handleChange = ({ target }) => {\n        const { name, value } = target;\n        setState({\n            ...state,\n            [name]: value,\n        })\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        onSubmit({ ...state });\n        reset();\n    };\n\n    const reset = () => {\n        setState({ \n            search: \"\",\n        });\n    };\n\n    return (\n            <header className={styles.searchbar}>\n                <form onSubmit={handleSubmit} className={styles.searchForm}>\n                    <button type=\"submit\" className={styles.searchFormButton}>\n                        <span className={styles.searchFormButtonLabel}>Search</span>\n                    </button>\n                    <input\n                        value={state.search}\n                        onChange={handleChange}\n                        className={styles.searchFormInput}\n                        required\n                        type=\"text\"\n                        name=\"search\"\n                        autoComplete=\"off\"\n                        autoFocus\n                    />\n                </form>\n            </header>\n        )\n\n}\n\nexport default Searchbar;","// extracted by mini-css-extract-plugin\nexport default {\"moviesSearchItem\":\"movies-search-item_moviesSearchItem__+sFBc\"};","import { Link, useLocation } from 'react-router-dom';\n\nimport styles from './movies-search-item.module.css'\n\nconst MoviesSearchItem = ({ items }) => {\n    const location = useLocation();\n    const elements = items.map(({\n            id,\n            title,\n    }) => <Link to={`/movies/${id}`} state={{from: location}} key={id} className={styles.moviesSearchItem}>\n            {title}\n        </Link>);\n    return elements;\n}\n\nexport default MoviesSearchItem;","// extracted by mini-css-extract-plugin\nexport default {\"moviesSearch\":\"movies-search_moviesSearch__LEHRY\",\"loadMoreWrapper\":\"movies-search_loadMoreWrapper__EOBDu\"};","import { useEffect, useState } from \"react\";\nimport { useSearchParams } from \"react-router-dom\";\n\nimport Button from \"components/Button/Button\";\nimport { Loader } from \"components/Loader/Loader\";\n\nimport Searchbar from \"./Searchbar/Searchbar\";\nimport MoviesSearchItem from \"./MoviesSearchItem/MoviesSearchItem\";\n\nimport { searchMovies } from \"api/movies\";\n\nimport styles from './movies-search.module.css'\n\nconst MoviesSearch = () => {\n    const [results, setResults] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n    const [prevSearch, setPrevSearch] = useState(\"\");\n\n    const [searchParams, setSearchParams] = useSearchParams();\n\n    const search = searchParams.get(\"search\");\n    const page = searchParams.get(\"page\");\n\n    useEffect(() => {\n        const fetchMovies = async () => {\n            try {\n                setLoading(true);\n\n                const { data } = await searchMovies(search, page);\n\n                if (data.results.length === 0) {\n                    return alert('Ох! Нажаль за Вашим запитом нічого не знайдено');\n                }\n\n                setResults(prevResults => data.results?.length ? [...prevResults, ...data.results] : prevResults)\n            }\n            catch (error) {\n                setError(error.message);\n            }\n            finally {\n                setLoading(false);\n            }\n        }\n\n        if (search && (search.toLowerCase() !== prevSearch.toLowerCase() || page !== 1)) {\n            fetchMovies();\n            setPrevSearch(search);\n        }\n        \n    }, [search, page, prevSearch]);\n\n    const handleSearch = ({ search }) => {\n        if (search.toLowerCase() === prevSearch.toLowerCase()) {\n            return alert(`Ви й так шукаєте \"${search}\"`);\n        }\n        setSearchParams({ search, page: 1 })\n        setResults([]);\n    };\n\n    const loadMore = () => setSearchParams({ search, page: Number(page) + 1 });\n\n    const isImages = Boolean(results.length);\n    \n        return (\n            <>\n                <Searchbar onSubmit={handleSearch} />\n                {error && <p>{error}</p>}\n                {loading && <Loader/>}\n                {isImages && (  <ul className={styles.moviesSearch}>\n                                    <MoviesSearchItem items={results} />\n                                </ul>)}\n                {isImages && <div className={styles.loadMoreWrapper}>\n                                <Button onClick={loadMore} type=\"button\">Load more</Button>\n                </div>}\n            </>\n            \n        )\n}\n\nexport default MoviesSearch;","import MoviesSearch from \"components/MoviesSearch/MoviesSearch\";\n\nconst MoviesPage = () => {\n    return (\n        <div>\n            <MoviesSearch/>\n        </div>\n    )\n}\n\nexport default MoviesPage;"],"names":["instance","axios","baseURL","API_KEY","getAllMovies","get","params","api_key","searchMovies","query","page","arguments","length","undefined","getMovieDetail","id","concat","getMovieCredits","getMovieReview","_ref","onClick","_ref$type","type","children","_jsx","className","styles","onSubmit","_useState","useState","search","_useState2","_slicedToArray","state","setState","reset","_jsxs","e","preventDefault","_objectSpread","value","onChange","_ref2","target","name","_defineProperty","required","autoComplete","autoFocus","items","location","useLocation","map","title","Link","to","from","results","setResults","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","_useState7","_useState8","prevSearch","setPrevSearch","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","useEffect","fetchMovies","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$searchMovies","data","_context","prev","next","sent","abrupt","alert","prevResults","_data$results","_toConsumableArray","t0","message","finish","stop","apply","toLowerCase","isImages","Boolean","_Fragment","Searchbar","Loader","MoviesSearchItem","Button","Number","MoviesSearch"],"sourceRoot":""}